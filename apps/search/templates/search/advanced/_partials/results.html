{% load i18n %}
{% load search_extras %}

{% if validation_errors %}
     <div class="g-mt-10">
            {% include 'search/_partials/show_search_conditions_btn.html' %}
            <p class="text-danger g-font-size-16">{% trans 'Некоректні умови пошуку!' %}</p>
        </div>
{% else %}
    {% if results %}
        <div class="row g-mt-10">
            <div class="col-md-3">
                {% include 'search/_partials/show_search_conditions_btn.html' %}
                {% include 'search/advanced/_partials/sidebar.html' %}
            </div>

            <div class="col-lg-9">
                <div class="d-md-flex justify-content-between g-mb-20">
                    <div class="align-self-center g-mb-30 g-mb-0--md h-100">
                        <div class="text-uppercase g-font-weight-600 ">{% trans "Всього результатів" %}:<span
                                class="g-color-gray-dark-v1">&nbsp;{{ results.paginator.count }}</span></div>
                    </div>
                </div>

                <div class="d-flex flex-column flex-lg-row justify-content-lg-between g-mb-20">
                    {% sort_params %}

                    <div class="d-flex justify-content-between">
                        <div class="g-mr-10 align-self-center g-font-weight-600">{% trans "Відображати на сторінці" %}:</div>
                        <div>
                            <select class="custom-select rounded-0" id="show">
                                <option value="10" {% if not get_params.show or get_params.show.0|add:"0" <= 10 %}selected=""{% endif %}>10</option>
                                <option value="20" {% if get_params.show.0|add:"0" == 20 %}selected=""{% endif %}>20</option>
                                <option value="50" {% if get_params.show.0|add:"0" == 50 %}selected=""{% endif %}>50</option>
                                <option value="100" {% if get_params.show.0|add:"0" >= 100 %}selected=""{% endif %}>100</option>
                            </select>
                        </div>
                    </div>
                </div>

                {% include 'search/advanced/_partials/import_results_btn.html' %}

                {% include 'search/advanced/_partials/pagination.html' %}

                {% for hit in results %}
                    {# Изобретения, полезные модели #}
                    {% if hit.Document.idObjType == 1 or hit.Document.idObjType == 2 %}
                        {% inv_um_item hit forloop.counter0|add:results.start_index %}
                    {# Топографии #}
                    {% elif hit.Document.idObjType == 3 %}
                        {% ld_item hit forloop.counter0|add:results.start_index %}
                    {# Знаки для товаров и услуг #}
                    {% elif hit.Document.idObjType == 4 %}
                        {% tm_item hit forloop.counter0|add:results.start_index %}
                    {# Знаки для товаров и услуг (Мадрид) #}
                    {% elif hit.Document.idObjType == 9 or hit.Document.idObjType == 14 %}
                        {% tm_item_madrid hit forloop.counter0|add:results.start_index %}
                    {# КЗПТ #}
                    {% elif hit.Document.idObjType == 5 %}
                        {% qi_item hit forloop.counter0|add:results.start_index %}
                    {# Пром. образец #}
                    {% elif hit.Document.idObjType == 6 %}
                        {% id_item hit forloop.counter0|add:results.start_index %}
                    {# Авторське право #}
                    {% elif hit.Document.idObjType == 10 or hit.Document.idObjType == 13 %}
                        {% copyright_item hit forloop.counter0|add:results.start_index %}
                    {# Договора #}
                    {% elif hit.Document.idObjType == 11 or hit.Document.idObjType == 12 %}
                        {% agreement_item hit forloop.counter0|add:results.start_index %}
                    {% endif %}
                {% endfor %}

                {% include 'search/advanced/_partials/pagination.html' %}
            </div>
        </div>
    {% else %}
        <div class="g-mt-10">
            {% include 'search/_partials/show_search_conditions_btn.html' %}
            <p class="lead">{% trans "За вашими умовами пошуку не знайдено жодного об'єкта." %}</p>
        </div>
    {% endif %}
{% endif %}