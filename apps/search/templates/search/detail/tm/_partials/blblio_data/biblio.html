{% load uma_extras %}
{% load search_extras %}
{% load i18n %}

<div class="table-responsive">
    <table class="table table-sm table-trade-mark g-font-size-13">
        <tbody>
        {% if hit.search_data.obj_state == 2 and hit.TradeMark.TrademarkDetails.ApplicationNumber %}
            <tr>
                <th>(111) Номер реєстрації знака, який є номером свідоцтва</th>
                <td class="g-font-weight-600 g-font-size-16">{{ hit.TradeMark.TrademarkDetails.RegistrationNumber }}</td>
            </tr>
        {% endif %}

        {% if hit.search_data.obj_state == 2 and  hit.TradeMark.TrademarkDetails.RegistrationDate %}
            <tr>
                <th>(151) Дата реєстрації знака</th>
                <td class="g-font-weight-600">{{ hit.TradeMark.TrademarkDetails.RegistrationDate|parse_date|date:"d.m.Y" }}</td>
            </tr>
        {% endif %}

        {% if hit.search_data.obj_state == 2 and  hit.TradeMark.TrademarkDetails.ExpiryDate %}
            <tr>
                <th>(181) Очікувана дата закінчення строку дії свідоцтва</th>
                <td class="g-font-weight-600">{{ hit.TradeMark.TrademarkDetails.ExpiryDate|parse_date|date:"d.m.Y" }}</td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.ApplicationNumber %}
            <tr>
                <th>(210) Номер заявки</th>
                <td class="g-font-weight-600">{{ hit.TradeMark.TrademarkDetails.ApplicationNumber }}</td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.ApplicationDate %}
            <tr>
                <th>(220) Дата подання заявки</th>
                <td class="g-font-weight-600">{{ hit.TradeMark.TrademarkDetails.ApplicationDate|parse_date|date:"d.m.Y" }}</td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.MarkImageDetails.MarkImage.MarkImageCategory.CategoryCodeDetails.CategoryCode %}
            <tr>
                <th>(531) Індекс (індекси) Міжнародної класифікації зображальних елементів знака</th>
                <td>{{ hit.TradeMark.TrademarkDetails.MarkImageDetails.MarkImage.MarkImageCategory.CategoryCodeDetails.CategoryCode|join:"<br>" }}</td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.ApplicantDetails.Applicant %}
            <tr>
                <th>(731) Ім'я або повне найменування та адреса заявника (заявників)</th>
                <td class="text-justify">
                    {% for applicant in hit.TradeMark.TrademarkDetails.ApplicantDetails.Applicant %}
                        {{ applicant.ApplicantAddressBook.FormattedNameAddress.Name.FreeFormatName.FreeFormatNameDetails.FreeFormatNameLine }}
                        {% if hit.search_data.obj_state == 2 %}
                            <br>{{ applicant.ApplicantAddressBook.FormattedNameAddress.Address.FreeFormatAddress.FreeFormatAddressLine }}
                        {% endif %}
                        {% if not forloop.last %};<br>{% endif %}
                    {% endfor %}
                </td>
            </tr>
        {% endif %}

        {% if hit.search_data.obj_state == 2 and hit.TradeMark.TrademarkDetails.ApplicantDetails.Applicant %}
            <tr>
                <th>(732) Ім'я або повне найменування та адреса власника (власників) свідоцтва</th>
                <td class="text-justify g-font-weight-600">
                    {% for holder in hit.TradeMark.TrademarkDetails.HolderDetails.Holder %}
                        {{ holder.HolderAddressBook.FormattedNameAddress.Name.FreeFormatName.FreeFormatNameDetails.FreeFormatNameLine }}
                        <br>{{ holder.HolderAddressBook.FormattedNameAddress.Address.FreeFormatAddress.FreeFormatAddressLine }}
                        {% if not forloop.last %};<br>{% endif %}
                    {% endfor %}
                </td>
            </tr>
        {% endif %}

        {% if hit.search_data.obj_state == 2 and hit.TradeMark.TrademarkDetails.RepresentativeDetails.Representative %}
            <tr>
                <th>(740) Ім'я (повне найменування) та реєстраційний номер представника в справах інтелектуальної власності (патентного повіреного) або іншої довіреної особи</th>
                <td class="text-justify">
                    {% for representative in hit.TradeMark.TrademarkDetails.RepresentativeDetails.Representative %}
                        {{ representative.RepresentativeAddressBook.FormattedNameAddress.Name.FreeFormatName.FreeFormatNameDetails.FreeFormatNameDetails.FreeFormatNameLine }}
                        <br>{{ representative.RepresentativeAddressBook.FormattedNameAddress.Address.FreeFormatAddress.FreeFormatAddressLine }}
                        {% if not forloop.last %};<br>{% endif %}
                    {% endfor %}
                </td>
            </tr>
        {% endif %}


        {% if hit.search_data.obj_state == 2 and hit.TradeMark.TrademarkDetails.CorrespondenceAddress %}
            <tr>
                <th>(750) Адреса для листування</th>
                <td class="text-justify">
                    {{ hit.TradeMark.TrademarkDetails.CorrespondenceAddress.Name.FreeFormatNameLine }}
                    <br>{{ hit.TradeMark.TrademarkDetails.CorrespondenceAddress.Address.FreeFormatAddressLine }}
                </td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.MarkImageDetails.MarkImage.MarkImageFilename %}
            <tr>
                <th>(540) Зображення знака</th>
                <td>
                    <a class="js-fancybox d-block u-block-hover u-bg-overlay g-bg-primary-opacity-0_8--hover--after g-transition-0_3"
                       href="javascript:;"
                       data-src="{{ hit.Document.filesPath|get_image_url:hit.TradeMark.TrademarkDetails.MarkImageDetails.MarkImage.MarkImageFilename }}">
                        <img class="img-fluid img-thumbnail"
                             src="{{ hit.Document.filesPath|get_image_url:hit.TradeMark.TrademarkDetails.MarkImageDetails.MarkImage.MarkImageFilename }}"
                             alt="">

                        <span class="u-block-hover__additional--fade g-color-white g-z-index-2">
                            <i class="hs-icon hs-icon-magnifier g-absolute-centered g-font-size-25"></i>
                        </span>
                    </a>
                </td>
            </tr>
        {% endif %}

        {% if hit.TradeMark.TrademarkDetails.GoodsServicesDetails.GoodsServices.ClassDescriptionDetails.ClassDescription %}
            <tr>
                <th>(511) Індекс (індекси) Міжнародної класифікації товарів і послуг для реєстрації знаків та перелік товарів і послуг</th>
                <td>
                    {% for cls in hit.TradeMark.TrademarkDetails.GoodsServicesDetails.GoodsServices.ClassDescriptionDetails.ClassDescription %}
                        <div class="d-flex justify-content-start">
                            <div class="g-pr-6 text-nowrap">Кл. {{ cls.ClassNumber }}:</div>
                            <div class="text-justify mktp-indexes">
                                <span class="more hidden">
                                    {% for term in cls.ClassificationTermDetails.ClassificationTerm %}
                                        {{ term.ClassificationTermText }}{% if not forloop.last %}; {% endif %}
                                    {% endfor %}
                                </span>
                                <a href="#"
                                   class="show-indexes g-font-size-12"
                                   title="{% trans "Показати" %}"
                                ><i class="fa fa-plus"></i></a>
                            </div>
                        </div>
                    {% endfor %}
                </td>
            </tr>
        {% endif %}

        </tbody>
    </table>
</div>
<!-- End Basic Table -->